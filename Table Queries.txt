CREATE TABLE Branch (
    branch_id char(7) PRIMARY KEY,
    branch_name varchar(30) ,
    location varchar(30),
    branch_phone_number char(10) ,
    status Boolean 
);

CREATE TABLE Employee(
    employee_id char(10) PRIMARY KEY,
    name varchar(50),
    nic varchar(12),
    phone_number char(10),
    address varchar(255),
    date_started date,
    last_login_time timestamp,
    type char(20),
    status boolean,
    branch_id char(7) REFERENCES Branch(branch_id)    
);


CREATE TABLE Token(
    token_id varchar(128) PRIMARY KEY,
    token_value varchar(255),
    created_time timestamp,
    last_used timestamp,
    employee_id char(10) REFERENCES Employee(employee_id)
);

CREATE TABLE Authentication(
    username varchar(30) PRIMARY KEY,
    password varchar(255),
    type varchar(50),
    employee_id char(10) REFERENCES Employee(employee_id)
);

CREATE TABLE Customer(
    customer_id char(10) PRIMARY KEY,
    name varchar(50),
    nic  varchar(12),
    phone_number char(10),
    address varchar(255),
    date_of_birth date,
    email varchar(255),
    status boolean,
    employee_id char(10) REFERENCES Employee(employee_id)
);

CREATE TABLE SavingsAccount_Plans(
   s_plan_id char(5) PRIMARY KEY,
   plan_name varchar(50),
   interest_rate char(5),
   min_balance numeric(12,2)
);


CREATE TABLE SavingsAccount(
    saving_account_id char(10) PRIMARY KEY,
    open_date timestamp,
    balance numeric(12,2),
    employee_id char(10) REFERENCES Employee(employee_id),
    s_plan_id char(5) REFERENCES SavingsAccount_Plans(s_plan_id),
    status boolean,
    branch_id char(7) REFERENCES Branch(branch_id)
);

CREATE TABLE FixedDeposit_Plans(
   f_plan_id char(5) PRIMARY KEY ,
   months varchar(15),
   interest_rate char(5)
);

CREATE TABLE FixedDeposit(
   fixed_deposit_id char(10) PRIMARY KEY ,
   saving_account_id char(10) REFERENCES SavingsAccount(saving_account_id),
   f_plan_id char(5) REFERENCES FixedDeposit_Plans(f_plan_id),
   start_date timestamp,
   end_date timestamp,
   principal_amount numeric(12,2),
   interest_payment_type boolean,
   last_payout_date timestamp,
   status boolean
);

CREATE TABLE AccountHolder(
   holder_id char(10) PRIMARY KEY,
   customer_id char(10)REFERENCES Customer(customer_id),
   saving_account_id char(10) REFERENCES SavingsAccount(saving_account_id)
);

CREATE TABLE Transactions(
   transaction_id int PRIMARY KEY,
   holder_id char(10) REFERENCES AccountHolder(holder_id),
   type varchar(50),
   amount numeric(12,2),
   timestamp timestamp,
   ref_number int,
   description varchar(255)
);

